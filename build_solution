#!/bin/bash

cmake -G "Visual Studio 15 2017 Win64" -T host=x64 .

INSTALL_ROOT=$PWD
CGAL_ROOT=${INSTALL_ROOT}/source/convexify/extern/cgal
#cgal
cd ./source/convexify/extern/cgal
cmake -G "Visual Studio 15 2017 Win64" -T host=x64 \
    # core component selection
    -D WITH_CGAL_Core=1 \
    -D WITH_CGAL_Qt5=0 \
    -D WITH_CGAL_ImageIO=0 \
    # dependencies
    -D WITH_GMP=1 \
    -D GMP_INCLUDE_DIR="$./auxiliary/gmp/include/" \
    -D GMP_LIBRARIES="${CGAL_ROOT}/auxiliary/gmp/lib/libgmp-10.lib" \
    -D WITH_MPFR=1 \
    -D MPFR_INCLUDE_DIR="$./auxiliary/gmp/include/" \
    -D MPFR_LIBRARIES="${CGAL_ROOT}/auxiliary/gmp/lib/libmpfr-4.lib" \
    -D BOOST_ROOT="./auxiliary/boost/" \
    -D BOOST_INCLUDE_DIR="${CGAL_ROOT}/auxiliary/boost/boost/" \
    .